(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[329],{9289:function(e,t,s){Promise.resolve().then(s.bind(s,8473))},8473:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var r=s(7437),a=s(2265),n=e=>{let{isOpen:t,onClose:s,onDelete:a}=e;return t?(0,r.jsx)("div",{className:" modal-overlay fixed inset-0 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"modal-content bg-white p-4 rounded shadow-lg",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"\xbfEst\xe1s seguro de que deseas eliminar esta mascota?"}),(0,r.jsxs)("div",{className:"flex justify-end",children:[(0,r.jsx)("button",{className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded mr-2",onClick:a,children:"Eliminar"}),(0,r.jsx)("button",{className:"bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded",onClick:s,children:"Cancelar"})]})]})}):null},i=s(4033),c=()=>{let e;let[t,s]=(0,a.useState)(!1),[c,p]=(0,a.useState)([]),[x,o]=(0,a.useState)("1"),[l,d]=(0,a.useState)("5"),[m,u]=(0,a.useState)(null),[h,y]=(0,a.useState)(!1),f=(0,i.useRouter)();(0,a.useEffect)(()=>{e=window.sessionStorage.getItem("idToken");let t=new URL("https://34.71.203.44:443/pet");t.searchParams.append("page",x),t.searchParams.append("pageSize",l),m&&t.searchParams.append("lastDocumentId",m),fetch(t.toString(),{headers:{Authorization:"Bearer ".concat(e)}}).then(e=>e.json()).then(e=>{p(e);let t=e[e.length-1];t&&u(t.doc)}).catch(e=>console.error("Error al obtener la lista de mascotas",e))},[x,l,m]);let g=async()=>{try{let t=await fetch("https://34.71.203.44:443/pet/".concat(h),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});console.log("se elimino mascota correctamente",t)}catch(e){console.error("error guardando mascota",e)}s(!1)},w=async e=>{window.sessionStorage.setItem("pet",JSON.stringify(e)),f.push("/pet?type=update")};return(0,r.jsxs)("div",{className:"container mx-auto py-8",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold mb-4",children:"Lista de Mascotas"}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full bg-white border border-gray-200",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nombre"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Especie"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Edad"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Color"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sexo"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tama\xf1o"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Enfermedades"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Esterilizado"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Imagen"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),(0,r.jsx)("tbody",{children:c.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"px-3 py-2 sm:px-6 sm:py-4 px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),(0,r.jsx)("td",{className:"px-3 py-2 sm:px-6 sm:py-4 px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.species}),(0,r.jsx)("td",{className:"px-3 py-2 sm:px-6 sm:py-4 px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.age}),(0,r.jsx)("td",{className:"px-3 py-2 sm:px-6 sm:py-4 px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.color}),(0,r.jsx)("td",{className:"px-3 py-2 sm:px-6 sm:py-4 px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.sex}),(0,r.jsx)("td",{className:"px-3 py-2 sm:px-6 sm:py-4 px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.size}),(0,r.jsx)("td",{className:"px-3 py-2 sm:px-6 sm:py-4 px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.estate}),(0,r.jsx)("td",{className:"px-3 py-2 sm:px-6 sm:py-4 px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.diseases}),(0,r.jsx)("td",{className:"px-3 py-2 sm:px-6 sm:py-4 px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.Sterilized}),(0,r.jsx)("td",{className:"px-3 py-2 sm:px-6 sm:py-4 px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:(0,r.jsx)("img",{src:e.image,alt:e.name})}),(0,r.jsxs)("td",{children:[(0,r.jsx)("button",{onClick:()=>{s(!0),y(e.doc)},className:"bg-red-500 text-white px-2 py-1 rounded cursor-pointer",children:"Eliminar"}),(0,r.jsx)(n,{isOpen:t,onClose:()=>s(!1),onDelete:g})]}),(0,r.jsx)("td",{children:(0,r.jsx)("button",{onClick:()=>w(e),className:"bg-blue-500 text-white px-2 py-1 rounded cursor-pointer",children:"Editar"})})]},e.id))})]})}),(0,r.jsxs)("div",{className:"mt-4 flex flex-col sm:flex-row justify-between",children:[(0,r.jsx)("button",{onClick:()=>{let e=parseInt(x,10);e>1&&o((e-1).toString())},disabled:"1"===x,className:"bg-blue-500 text-white px-4 py-2 rounded cursor-pointer",children:"Anterior"}),(0,r.jsx)("button",{onClick:()=>{let e=parseInt(x,10);o((e+1).toString())},className:"bg-blue-500 text-white px-4 py-2 rounded cursor-pointer",children:"Siguiente"})]})]})}},622:function(e,t,s){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=s(2265),a=Symbol.for("react.element"),n=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function p(e,t,s){var r,p={},x=null,o=null;for(r in void 0!==s&&(x=""+s),void 0!==t.key&&(x=""+t.key),void 0!==t.ref&&(o=t.ref),t)n.call(t,r)&&!c.hasOwnProperty(r)&&(p[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===p[r]&&(p[r]=t[r]);return{$$typeof:a,type:e,key:x,ref:o,props:p,_owner:i.current}}t.jsx=p,t.jsxs=p},7437:function(e,t,s){"use strict";e.exports=s(622)},4033:function(e,t,s){e.exports=s(8165)}},function(e){e.O(0,[971,596,744],function(){return e(e.s=9289)}),_N_E=e.O()}]);