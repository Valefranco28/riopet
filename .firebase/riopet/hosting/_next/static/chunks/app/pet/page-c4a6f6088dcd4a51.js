(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[458],{8324:function(e,a,s){Promise.resolve().then(s.bind(s,8282))},3514:function(e,a,s){"use strict";var l=s(7437),o=s(1396),n=s.n(o);a.Z=()=>(0,l.jsxs)("div",{className:"mb-12 flex flex-row items-end bg-black rounded-tl-none rounded-tr-none rounded-bl-lg rounded-br-lg",children:[" ",(0,l.jsxs)("ul",{className:"flex space-x-4 ml-10 mr-10 ",children:[" ",(0,l.jsx)("li",{className:"h-12 bg-black ",children:(0,l.jsx)(n(),{className:"text-white",href:"/pet",children:"Crear mascota"})}),(0,l.jsx)("li",{className:"h-12 bg-black ",children:(0,l.jsx)(n(),{className:"text-white",href:"/pets",children:"Lista Mascota"})}),(0,l.jsx)("li",{className:"h-12 bg-black ",children:(0,l.jsx)(n(),{className:"text-white",href:"/pet",children:"Agendamiento"})})]})]})},8282:function(e,a,s){"use strict";s.r(a);var l=s(7437),o=s(4033),n=s(2265);s(3159);var i=s(5819),d=s(3514);a.default=function(){var e,a,s,r,c,t,u,m,p,x,h,b,g,f,v;let j,N,y,w;let k=(0,o.useSearchParams)();(0,n.useEffect)(()=>{window.sessionStorage.getItem("idToken"),N=k.get("type"),y=window.sessionStorage.getItem("pet"),window.sessionStorage.setItem("pet",JSON.stringify(null))},[]),y&&(w=JSON.parse(y));let z=null===(e=w)||void 0===e?void 0:e.image;console.log("type",N);let[S,C]=(0,n.useState)({name:(null===(a=w)||void 0===a?void 0:a.name)||"",species:(null===(s=w)||void 0===s?void 0:s.species)||"",age:(null===(r=w)||void 0===r?void 0:r.age)||"",color:(null===(c=w)||void 0===c?void 0:c.color)||"",gender:(null===(t=w)||void 0===t?void 0:t.gender)||"",size:(null===(u=w)||void 0===u?void 0:u.size)||"",estate:(null===(m=w)||void 0===m?void 0:m.estate)||"",diseases:(null===(p=w)||void 0===p?void 0:p.diseases)||[],sterilized:(null===(x=w)||void 0===x?void 0:x.sterilized)||"",image:(null===(h=w)||void 0===h?void 0:h.image)||null,monthyear:(null===(b=w)||void 0===b?void 0:b.monthyear)||"",date:(null===(g=w)||void 0===g?void 0:g.date)||"",doc:(null===(f=w)||void 0===f?void 0:f.doc)||"",imagePreview:(null===(v=w)||void 0===v?void 0:v.image)||null}),q=e=>{let{name:a,value:s,type:l,checked:o}=e.target;C({...S,[a]:"checkbox"===l?o:s})},F=async e=>{if(e.preventDefault(),N)try{let e=JSON.stringify(S.diseases),a=new FormData;a.append("name",S.name),a.append("species",S.species),a.append("age",S.age),a.append("color",S.color),a.append("gender",S.gender),a.append("size",S.size),a.append("estate",S.estate),a.append("diseases",e),a.append("sterilized",S.sterilized),a.append("image",S.image),a.append("monthyear",S.monthyear),a.append("date",S.date),a.append("doc",S.doc),void 0===z?a.append("imageBinary",""):a.append("imageBinary",z);let s=await fetch("https://34.71.203.44:443/pet",{method:"PUT",headers:{Authorization:"Bearer ".concat(j)},body:a});console.log("se guardo mascota correctamente",s)}catch(e){console.error("error guardando mascota",e)}else try{let e=JSON.stringify(S.diseases),a=new FormData;a.append("name",S.name),a.append("species",S.species),a.append("age",S.age),a.append("color",S.color),a.append("gender",S.gender),a.append("size",S.size),a.append("estate",S.estate),a.append("diseases",e),a.append("sterilized",S.sterilized),a.append("image",S.image),a.append("monthyear",S.monthyear),a.append("date",S.date),a.append("doc",S.doc);let s=await fetch("https://34.71.203.44:443/pet",{method:"POST",headers:{Authorization:"Bearer ".concat(j)},body:a});console.log("se guardo mascota correctamente",s)}catch(e){console.error("error guardando mascota",e)}},[P,E]=(0,n.useState)("");return(0,l.jsxs)("div",{className:"min-h-screen flex flex-col items-center  bg-gray-100",children:[(0,l.jsx)(d.Z,{}),(0,l.jsxs)("form",{onSubmit:F,className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Datos de la Mascota"}),(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsxs)("div",{className:"flex space-x-4",children:[(0,l.jsxs)("div",{className:"w-custom",children:[(0,l.jsx)("label",{htmlFor:"image",className:"block text-gray-700 font-bold mb-2",children:"Imagen de la Mascota:"}),(0,l.jsx)("input",{type:"file",id:"image",name:"image",accept:"image/*",onChange:e=>{let a=e.target.files[0],s=URL.createObjectURL(a);C({...S,image:a,imagePreview:s}),C(e=>({...e,image:a}))},className:"w-50 px-3 py-2 border rounded-lg focus:outline-none focus:ring focus:border-blue-300",required:!0}),S.imagePreview&&(0,l.jsxs)("div",{className:"mt-2",children:[(0,l.jsx)("label",{children:"Imagen existente:"}),(0,l.jsx)("img",{src:S.imagePreview,alt:"Imagen existente",className:"w-32 h-32 rounded-lg mt-2"}),(0,l.jsx)("button",{className:"bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-2 rounded mt-2",onClick:()=>{C({...S,image:null,imagePreview:null})},children:"Eliminar imagen"})]})]}),(0,l.jsxs)("div",{className:"w-custom",children:[(0,l.jsx)("label",{htmlFor:"name",className:"block text-gray-700 font-bold mb-2",children:"Nombre:"}),(0,l.jsx)("input",{type:"text",id:"name",name:"name",value:S.name,onChange:q,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring focus:border-blue-300",required:!0})]})]})}),(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsxs)("div",{className:"flex space-x-4",children:[(0,l.jsxs)("div",{className:"w-custom",children:[(0,l.jsx)("label",{htmlFor:"age",className:"block text-gray-700 font-bold mb-2",children:"Edad:"}),(0,l.jsx)("input",{type:"number",id:"age",name:"age",value:S.age,onChange:q,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring focus:border-blue-300",required:!0})]}),(0,l.jsxs)("div",{className:"w-custom",children:[(0,l.jsx)("label",{htmlFor:"monthyear",className:"block text-gray-700 font-bold mb-2",children:"Mes/A\xf1o:"}),(0,l.jsxs)("select",{id:"monthyear",name:"monthyear",value:S.monthyear,onChange:q,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring focus:border-blue-300",required:!0,children:[(0,l.jsx)("option",{value:"",children:"Selecciona una opci\xf3n"}),(0,l.jsx)("option",{value:"mes",children:"Meses"}),(0,l.jsx)("option",{value:"a\xf1o",children:"A\xf1os"})]})]}),(0,l.jsxs)("div",{className:"w-custom",children:[(0,l.jsx)("label",{htmlFor:"date",className:"block text-gray-700 font-medium mb-2",children:"Fecha"}),(0,l.jsx)("input",{type:"date",id:"date",name:"date",value:S.date,onChange:q,className:"w-full px-4 py-2 rounded border border-gray-300 focus:outline-none focus:border-blue-500",style:{lineHeight:"1.5",borderRadius:"0.25rem",paddingLeft:"0.75rem"},required:!0})]})]})}),(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsxs)("div",{className:"flex space-x-4",children:[(0,l.jsxs)("div",{className:"w-custom",children:[(0,l.jsx)("label",{htmlFor:"gender",className:"block text-gray-700 font-bold mb-2",children:"Sexo:"}),(0,l.jsxs)("select",{id:"gender",name:"gender",value:S.gender,onChange:q,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring focus:border-blue-300",required:!0,children:[(0,l.jsx)("option",{value:"",children:"Selecciona una opci\xf3n"}),(0,l.jsx)("option",{value:"hembra",children:"Hembra"}),(0,l.jsx)("option",{value:"macho",children:"Macho"})]})]}),(0,l.jsxs)("div",{className:"w-custom",children:[(0,l.jsx)("label",{htmlFor:"estate",className:"block text-gray-700 font-bold mb-2",children:"Estado:"}),(0,l.jsxs)("select",{id:"estate",name:"estate",value:S.estate,onChange:q,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring focus:border-blue-300",required:!0,children:[(0,l.jsx)("option",{value:"",children:"Selecciona una opci\xf3n"}),(0,l.jsx)("option",{value:"adopcion",children:"En adopci\xf3n"}),(0,l.jsx)("option",{value:"adoptado",children:"Adoptado"})]})]}),(0,l.jsxs)("div",{className:"w-custom",children:[(0,l.jsx)("label",{htmlFor:"size",className:"block text-gray-700 font-bold mb-2",children:"Tama\xf1o:"}),(0,l.jsxs)("select",{id:"size",name:"size",value:S.size,onChange:q,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring focus:border-blue-300",required:!0,children:[(0,l.jsx)("option",{value:"",children:"Selecciona una opci\xf3n"}),(0,l.jsx)("option",{value:"peque\xf1o",children:"Peque\xf1o"}),(0,l.jsx)("option",{value:"mediano",children:"Mediano"}),(0,l.jsx)("option",{value:"grande",children:"Grande"})]})]})]})}),(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsxs)("div",{className:"flex space-x-4",children:[(0,l.jsxs)("div",{className:"w-custom",children:[(0,l.jsx)("label",{htmlFor:"sterilized",className:"block text-gray-700 font-bold mb-2",children:"Esterilizado:"}),(0,l.jsxs)("select",{id:"sterilized",name:"sterilized",value:S.sterilized,onChange:q,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring focus:border-blue-300",required:!0,children:[(0,l.jsx)("option",{value:"",children:"Selecciona una opci\xf3n"}),(0,l.jsx)("option",{value:"si",children:"Si"}),(0,l.jsx)("option",{value:"no",children:"No"})]})]}),(0,l.jsxs)("div",{className:"w-custom",children:[(0,l.jsx)("label",{htmlFor:"color",className:"block text-gray-700 font-bold mb-2",children:"Color:"}),(0,l.jsxs)("select",{id:"color",name:"color",value:S.color,onChange:q,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring focus:border-blue-300",required:!0,children:[(0,l.jsx)("option",{value:"",children:"Selecciona una opci\xf3n"}),(0,l.jsx)("option",{value:"negro",children:"Negro"}),(0,l.jsx)("option",{value:"cafe",children:"Cafe"}),(0,l.jsx)("option",{value:"blanco",children:"Blanco"}),(0,l.jsx)("option",{value:"otro",children:"Otro"})]})]}),(0,l.jsxs)("div",{className:"w-custom",children:[(0,l.jsx)("label",{htmlFor:"species",className:"block text-gray-700 font-bold mb-2",children:"Especie:"}),(0,l.jsxs)("select",{id:"species",name:"species",value:S.species,onChange:q,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring focus:border-blue-300",required:!0,children:[(0,l.jsx)("option",{value:"",children:"Selecciona una opci\xf3n"}),(0,l.jsx)("option",{value:"perro",children:"Perro"}),(0,l.jsx)("option",{value:"gato",children:"Gato"})]})]})]})}),(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsx)("div",{className:"flex space-x-4",children:(0,l.jsxs)("div",{className:"w-55",children:[(0,l.jsx)("label",{htmlFor:"diseases",className:"block text-gray-700 font-bold mb-2",children:"Enfermedades:"}),(0,l.jsx)(i.ZP,{id:"diseases",name:"diseases",value:S.diseases,onChange:e=>{let a=e.map(e=>({label:e.label,value:e.value}));C({...S,diseases:a})},isMulti:!0,options:[{label:"Moquillo",value:"moquillo"},{label:"Dermatitis",value:"dermatitis"},{label:"La rabia",value:"rabia"},{label:"Toxocariasis",value:"Toxocariasis"},{label:"Ninguna",value:"ninguna"}]})]})})}),(0,l.jsx)("div",{className:"flex justify-center mt-2",children:(0,l.jsx)("button",{className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mr-2",type:"submit",children:"Guardar"})})]})]})}}},function(e){e.O(0,[396,769,857,971,596,744],function(){return e(e.s=8324)}),_N_E=e.O()}]);